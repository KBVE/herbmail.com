import{S as be,i as ge,s as we,y as he,a as k,e as i,t as _e,z as ve,f as g,d as C,c,b as N,g as G,h as xe,j as e,l as r,k as oe,m as O,n as Z,p as ke,q as ie,r as Ce,u as Ee,v as Le,w as Ie,x as Te,A as Pe}from"./index.1ef144c7.js";import{h as Ve,b as De,r as Ne,n as ne,t as Ue,d as Re,c as Se,a as Ae}from"./storage.2c4ea31c.js";function pe(l){let s,n;return{c(){s=i("script"),this.h()},l(f){s=c(f,"SCRIPT",{src:!0});var a=N(s);a.forEach(g),this.h()},h(){Pe(s.src,n=l[7])||e(s,"src",n),s.async=!0,s.defer=!0},m(f,a){oe(f,s,a)},p:ie,d(f){f&&g(s)}}}function qe(l){let s,n,f,a,E,L,W="Your email",U,m,H,I,_,K="Your Username",T,y,R,P,b,V="Password",S,d,J,A,v,$="Confirm Password",q,u,B,w,Y,M,ee='<div class="flex items-start"></div> <a href="/account/recovery" class="text-sm font-medium text-kbve-primary-light hover:underline">Forgot password?</a>',Q,D,t,X="Register",F,z,j,ce='Have an account yet? <a href="/account/login" class="font-medium hover:underline">Login!</a>',le,ue,h=l[1]&&!window?.hcaptcha&&pe(l);return{c(){h&&h.c(),s=he(),n=k(),f=i("section"),a=i("form"),E=i("div"),L=i("label"),L.textContent=W,U=k(),m=i("input"),H=k(),I=i("div"),_=i("label"),_.textContent=K,T=k(),y=i("input"),R=k(),P=i("div"),b=i("label"),b.textContent=V,S=k(),d=i("input"),J=k(),A=i("div"),v=i("label"),v.textContent=$,q=k(),u=i("input"),B=k(),w=i("div"),Y=k(),M=i("div"),M.innerHTML=ee,Q=k(),D=i("button"),t=i("span"),F=_e(X),z=k(),j=i("p"),j.innerHTML=ce,this.h()},l(o){const x=ve("svelte-xzymey",document.head);h&&h.l(x),s=he(),x.forEach(g),n=C(o),f=c(o,"SECTION",{class:!0});var de=N(f);a=c(de,"FORM",{class:!0,action:!0});var p=N(a);E=c(p,"DIV",{});var te=N(E);L=c(te,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),G(L)!=="svelte-1bx9lff"&&(L.textContent=W),U=C(te),m=c(te,"INPUT",{type:!0,name:!0,id:!0,class:!0,placeholder:!0}),te.forEach(g),H=C(p),I=c(p,"DIV",{});var ae=N(I);_=c(ae,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),G(_)!=="svelte-mwdljj"&&(_.textContent=K),T=C(ae),y=c(ae,"INPUT",{type:!0,name:!0,id:!0,class:!0,placeholder:!0}),ae.forEach(g),R=C(p),P=c(p,"DIV",{});var re=N(P);b=c(re,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),G(b)!=="svelte-48z9qy"&&(b.textContent=V),S=C(re),d=c(re,"INPUT",{type:!0,name:!0,id:!0,placeholder:!0,class:!0}),re.forEach(g),J=C(p),A=c(p,"DIV",{});var se=N(A);v=c(se,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),G(v)!=="svelte-oro9gy"&&(v.textContent=$),q=C(se),u=c(se,"INPUT",{type:!0,name:!0,id:!0,placeholder:!0,class:!0}),se.forEach(g),B=C(p),w=c(p,"DIV",{id:!0,class:!0}),N(w).forEach(g),Y=C(p),M=c(p,"DIV",{class:!0,"data-svelte-h":!0}),G(M)!=="svelte-irgx61"&&(M.innerHTML=ee),Q=C(p),D=c(p,"BUTTON",{type:!0,class:!0});var fe=N(D);t=c(fe,"SPAN",{});var me=N(t);F=xe(me,X),me.forEach(g),fe.forEach(g),z=C(p),j=c(p,"P",{class:!0,"data-svelte-h":!0}),G(j)!=="svelte-1h8r17p"&&(j.innerHTML=ce),p.forEach(g),de.forEach(g),this.h()},h(){e(L,"for","email"),e(L,"class","block mb-2 text-sm font-medium"),e(m,"type","email"),e(m,"name","email"),e(m,"id","email"),e(m,"class","bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5"),e(m,"placeholder","name@company.com"),m.required=!0,e(_,"for","username"),e(_,"class","block mb-2 text-sm font-medium"),e(y,"type","text"),e(y,"name","username"),e(y,"id","username"),e(y,"class","bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5"),e(y,"placeholder","Username-chan"),y.required=!0,e(b,"for","password"),e(b,"class","block mb-2 text-sm font-medium"),e(d,"type","password"),e(d,"name","password"),e(d,"id","password"),e(d,"placeholder","••••••••"),e(d,"class","bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5"),d.required=!0,e(v,"for","password"),e(v,"class","block mb-2 text-sm font-medium"),e(u,"type","password"),e(u,"name","confirm"),e(u,"id","confirm"),e(u,"placeholder","••••••••"),e(u,"class","bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5"),u.required=!0,e(w,"id","h-captcha-"+l[6]),e(w,"class","flex justify-center"),e(M,"class","flex items-center justify-between"),e(D,"type","submit"),e(D,"class","w-full bg-offset/[.75] hover:bg-offset focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center"),D.disabled=Me,e(j,"class","text-sm font-light"),e(a,"class","space-y-4 md:space-y-6"),e(a,"action","#"),e(f,"class",l[0])},m(o,x){h&&h.m(document.head,null),r(document.head,s),oe(o,n,x),oe(o,f,x),r(f,a),r(a,E),r(E,L),r(E,U),r(E,m),O(m,l[3]),r(a,H),r(a,I),r(I,_),r(I,T),r(I,y),O(y,l[2]),r(a,R),r(a,P),r(P,b),r(P,S),r(P,d),O(d,l[5]),r(a,J),r(a,A),r(A,v),r(A,q),r(A,u),O(u,l[4]),r(a,B),r(a,w),r(a,Y),r(a,M),r(a,Q),r(a,D),r(D,t),r(t,F),r(a,z),r(a,j),le||(ue=[Z(m,"input",l[22]),Z(y,"input",l[23]),Z(d,"input",l[24]),Z(u,"input",l[25]),Z(a,"submit",ke(l[8]))],le=!0)},p(o,x){o[1]&&!window?.hcaptcha?h?h.p(o,x):(h=pe(o),h.c(),h.m(s.parentNode,s)):h&&(h.d(1),h=null),x[0]&8&&m.value!==o[3]&&O(m,o[3]),x[0]&4&&y.value!==o[2]&&O(y,o[2]),x[0]&32&&d.value!==o[5]&&O(d,o[5]),x[0]&16&&u.value!==o[4]&&O(u,o[4]),x[0]&1&&e(f,"class",o[0])},i:ie,o:ie,d(o){o&&(g(n),g(f)),h&&h.d(o),g(s),le=!1,Ce(ue)}}}var ye=(l=>(l.DARK="dark",l.LIGHT="light",l))(ye||{});let Me=!1;function ze(l,s,n){let f;Ee(l,Ue,t=>n(28,f=t));const a=Le();let{domain:E=""}=s,{className:L=""}=s,{redirect:W=!1}=s,{sitekey:U=Ve}=s,{apihost:m=De}=s,{hl:H=""}=s,{reCaptchaCompat:I=!1}=s,{theme:_=ye.DARK}=s,{size:K="compact"}=s;const T=()=>{b&&V&&S&&hcaptcha.reset(S)},y=t=>{if(b&&V&&S)return hcaptcha.execute(S,t)},R=()=>{b&&V&&new Toastify({text:f,duration:3e3,destination:"#",newWindow:!1,close:!0,gravity:"top",position:"right",stopOnFocus:!0,style:{background:"linear-gradient(to right, #FF8A4C, #8DA2FB)"}}).showToast()},P=Math.floor(Math.random()*100);let b=!1,V=!1,S,d;const J=new URLSearchParams({recaptchacompat:I?"on":"off",onload:"hcaptchaOnLoad",render:"explicit"}),A=`${m}?${J.toString()}`;Ie(()=>{U||n(9,U=window.sitekey),window.hcaptchaOnLoad=()=>{a("load"),n(20,V=!0)},window.onSuccess=t=>{a("success",{token:t}),Y=t},window.onError=()=>{a("error")},window.onClose=()=>{a("close")},window.onExpired=()=>{a("expired"),T()},a("mount"),n(1,b=!0)}),Te(()=>{window.hcaptchaOnLoad=null,window.onSuccess=null,V&&(hcaptcha=null)});async function v(t,X){try{const{isValid:F,error:z}=await t(X);return F?!0:(T(),z&&(ne(z),R()),!1)}catch(F){return T(),console.error(F),!1}}const $=async()=>{if(!await v(Re,q)||!await v(Se,u)||!await v(Ae,w))return;if(w!==B){T(),ne("Passwords do not match!"),R();return}const z=await Ne(E,q,u,w,Y);if(z.error){T(),ne(z.scope()),R();return}else ne("Registeration was successful!"),R();console.log("Register task EoL")};let q="",u="",B="",w="",Y="";function M(){u=this.value,n(3,u)}function ee(){q=this.value,n(2,q)}function Q(){w=this.value,n(5,w)}function D(){B=this.value,n(4,B)}return l.$$set=t=>{"domain"in t&&n(10,E=t.domain),"className"in t&&n(0,L=t.className),"redirect"in t&&n(11,W=t.redirect),"sitekey"in t&&n(9,U=t.sitekey),"apihost"in t&&n(12,m=t.apihost),"hl"in t&&n(13,H=t.hl),"reCaptchaCompat"in t&&n(14,I=t.reCaptchaCompat),"theme"in t&&n(15,_=t.theme),"size"in t&&n(16,K=t.size)},l.$$.update=()=>{l.$$.dirty[0]&3252738&&b&&V&&(S=hcaptcha.render(`h-captcha-${P}`,{sitekey:U,hl:H,theme:_,callback:"onSuccess","error-callback":"onError","close-callback":"onClose","expired-callback":"onExpired",size:K}),n(21,d=window.document.getElementById("skeleton")),d&&d.remove())},[L,b,q,u,B,w,P,A,$,U,E,W,m,H,I,_,K,T,y,R,V,d,M,ee,Q,D]}class Oe extends be{constructor(s){super(),ge(this,s,ze,qe,we,{domain:10,className:0,redirect:11,sitekey:9,apihost:12,hl:13,reCaptchaCompat:14,theme:15,size:16,reset:17,execute:18,toast:19},null,[-1,-1])}get reset(){return this.$$.ctx[17]}get execute(){return this.$$.ctx[18]}get toast(){return this.$$.ctx[19]}}export{Oe as default};
