import{S as j,i as z,s as R,e as g,a as I,t as W,c as b,b as P,g as U,d as q,f as k,h as Y,j as s,k as G,l,m as A,n as B,p as H,o as J,q as M,r as K,u as Q,v as X,w as Z,x as $}from"./index.1ef144c7.js";import{l as ee,n as D,t as te,c as se,a as ae}from"./storage.2c4ea31c.js";function re(n){let i,e,h,m,w="Your email",_,a,L,f,u,v="Password",x,r,y,o,p,E=n[1]?"Loading":"Login",C,c,T;return{c(){i=g("section"),e=g("form"),h=g("div"),m=g("label"),m.textContent=w,_=I(),a=g("input"),L=I(),f=g("div"),u=g("label"),u.textContent=v,x=I(),r=g("input"),y=I(),o=g("button"),p=g("span"),C=W(E),this.h()},l(t){i=b(t,"SECTION",{class:!0});var d=P(i);e=b(d,"FORM",{class:!0,action:!0});var N=P(e);h=b(N,"DIV",{});var V=P(h);m=b(V,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),U(m)!=="svelte-1bx9lff"&&(m.textContent=w),_=q(V),a=b(V,"INPUT",{type:!0,name:!0,id:!0,class:!0,placeholder:!0}),V.forEach(k),L=q(N),f=b(N,"DIV",{});var F=P(f);u=b(F,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),U(u)!=="svelte-48z9qy"&&(u.textContent=v),x=q(F),r=b(F,"INPUT",{type:!0,name:!0,id:!0,placeholder:!0,class:!0}),F.forEach(k),y=q(N),o=b(N,"BUTTON",{type:!0,class:!0});var O=P(o);p=b(O,"SPAN",{});var S=P(p);C=Y(S,E),S.forEach(k),O.forEach(k),N.forEach(k),d.forEach(k),this.h()},h(){s(m,"for","email"),s(m,"class","block mb-2 text-sm font-medium"),s(a,"type","email"),s(a,"name","email"),s(a,"id","email"),s(a,"class","bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5"),s(a,"placeholder","name@company.com"),a.required=!0,s(u,"for","password"),s(u,"class","block mb-2 text-sm font-medium"),s(r,"type","password"),s(r,"name","password"),s(r,"id","password"),s(r,"placeholder","••••••••"),s(r,"class","bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5"),r.required=!0,s(o,"type","submit"),s(o,"class","w-full bg-offset/[.75] hover:bg-offset focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center"),o.disabled=n[1],s(e,"class","space-y-4 md:space-y-6"),s(e,"action","#"),s(i,"class",n[0])},m(t,d){G(t,i,d),l(i,e),l(e,h),l(h,m),l(h,_),l(h,a),A(a,n[2]),l(e,L),l(e,f),l(f,u),l(f,x),l(f,r),A(r,n[3]),l(e,y),l(e,o),l(o,p),l(p,C),c||(T=[B(a,"input",n[11]),B(r,"input",n[12]),B(e,"submit",H(n[4]))],c=!0)},p(t,[d]){d&4&&a.value!==t[2]&&A(a,t[2]),d&8&&r.value!==t[3]&&A(r,t[3]),d&2&&E!==(E=t[1]?"Loading":"Login")&&J(C,E),d&2&&(o.disabled=t[1]),d&1&&s(i,"class",t[0])},i:M,o:M,d(t){t&&k(i),c=!1,K(T)}}}function oe(n,i,e){let h;Q(n,te,c=>e(13,h=c));const m=X(),w=()=>{e(1,y=!1)},_=()=>{f&&u&&new Toastify({text:h,duration:3e3,destination:"#",newWindow:!1,close:!0,gravity:"top",position:"right",stopOnFocus:!0,style:{background:"linear-gradient(to right, #FF8A4C, #8DA2FB)"}}).showToast()};let{domain:a=""}=i,{className:L=""}=i,f=!1,u=!1,v;Z(()=>{m("load"),e(9,u=!0),m("mount"),e(8,f=!0)}),$(()=>{});async function x(c,T){try{const{isValid:t,error:d}=await c(T);return t?!0:(w(),d&&(D(d),_()),!1)}catch(t){return w(),console.error(t),!1}}const r=async()=>{if(e(1,y=!0),!await x(se,o)||!await x(ae,p))return;const t=await ee("https://rust.kbve.com",o,p);if(t.error){w(),D(t.scope()),_();return}else D("Login was successful!"),_(),e(1,y=!1);e(1,y=!1)};let y=!1,o="",p="";function E(){o=this.value,e(2,o)}function C(){p=this.value,e(3,p)}return n.$$set=c=>{"domain"in c&&e(7,a=c.domain),"className"in c&&e(0,L=c.className)},n.$$.update=()=>{n.$$.dirty&1792&&f&&u&&(e(10,v=window.document.getElementById("skeleton")),v&&v.remove())},[L,y,o,p,r,w,_,a,f,u,v,E,C]}class ie extends j{constructor(i){super(),z(this,i,oe,re,R,{reset:5,toast:6,domain:7,className:0})}get reset(){return this.$$.ctx[5]}get toast(){return this.$$.ctx[6]}}export{ie as default};
